<!DOCTYPE html>
<html lang="ja">

  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="favicon.ico"/>
    <title>概要</title>
    <meta name="description" content="" />
    <meta name="keywords" content="">

      <!-- Bootstrap core CSS -->
      <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

      <!-- JsTree styles -->
      <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

      <!-- Hnd styles -->
      <link href="css/layout.min.css" rel="stylesheet" />
      <link href="css/effects.min.css" rel="stylesheet" />
      <link href="css/theme-light-blue.min.css" rel="stylesheet" />
      <link href="css/print.min.css" rel="stylesheet" media="print" />
      <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>
      <style type="text/css">.navigation #inline-toc { width: auto !important}</style>

      <!-- Content style -->
      <link href="css/hnd.content.css" rel="stylesheet" />
      <link rel='stylesheet' type='text/css' href='css/chaki.css'>
</head>

<body class="md-nav-expanded">
  <header class="headroom">
    ChaKi.NET Lite ヘルプ
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close">
        <button class="hnd-toggle btn btn-default">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      <li role="presentation" class="tab active">
        <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
          <i class="glyphicon glyphicon-list"></i>
          Contents
        </a>
      </li>
    </ul>

    <div class="tab-content">
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"></div>
      </div>
    </div>
  </nav>

  <div id="main">
    <article>
<div class="wiki-content">
  <p>ChaKiは、文節・係り受けを編集するための"Dependency"パネルを持っています。
このパネルは、メニュー"View"-"DependencyEdit Panel"コマンドにより表示・非表示が切り替えられますので、
もし"Dependency"というタイトルを持つパネルが見当たらなければ、このコマンドにより表示状態にして下さい。
</p>
  <p>文脈を表示する操作と共通になりますが、KWIC結果ビューに表示されている任意の文において
IndexカラムからSenカラムまでの範囲（つまり文本体が表示されていない場所）をダブルクリックすると、
その文の文節・係り受け編集が開始されます。Dependencyパネルにはその文の文節・係り受け構造が表示されます。
下図に例（既にCabochaによる自動解析が行われている場合）を示します。
</p>
  <p>
    <img src="img/061.png" alt="061.png" id="emb-061.png-1" title="061.png" class="embed-image" width="617" height="185" />
</p>
  <p>文はまず文節に分けられて文節Boxのリストとなっており、各文節はさらに語に分けられて
語Boxのリストになります。各文節Boxからは必ず１つの係り受け矢印が出ており、他の文節Boxに
入っています。赤い文字の語BoxはKWICの中心語を示しています。
なお、文末に存在する空白のBoxはダミーの文節Boxであり、各文に自動的に挿入されて
係り先のない文節の受け口となります。係り受け矢印に付加される"D"という文字は係り受けの
タグで、係り受けの種類を示しています。
</p>
  <p>上方にあるのは表示・編集のためのツールバーで、それぞれの機能は左から順に次の通りです。
</p>
  <table class="wikitable">
    <tbody>
      <tr>
        <td>アイコン</td>
        <td>機能</td>
        <td>カテゴリ</td>
      </tr>
      <tr>
        <td>
          <img src="img/062.png" alt="062.png" id="emb-062.png-1" title="062.png" class="embed-image" width="25" height="25" />
        </td>
        <td>操作をUndoする</td>
        <td>編集</td>
      </tr>
      <tr>
        <td>
          <img src="img/063.png" alt="063.png" id="emb-063.png-1" title="063.png" class="embed-image" width="25" height="25" />
        </td>
        <td>操作をRedoする</td>
        <td>編集</td>
      </tr>
      <tr>
        <td>
          <img src="img/064.png" alt="064.png" id="emb-064.png-1" title="064.png" class="embed-image" width="25" height="25" />
        </td>
        <td>表示を拡大する</td>
        <td>表示</td>
      </tr>
      <tr>
        <td>
          <img src="img/065.png" alt="065.png" id="emb-065.png-1" title="065.png" class="embed-image" width="25" height="25" />
        </td>
        <td>表示を縮小する</td>
        <td>表示</td>
      </tr>
      <tr>
        <td>
          <img src="img/066.png" alt="066.png" id="emb-066.png-1" title="066.png" class="embed-image" width="25" height="25" />
        </td>
        <td>表示をデフォルトサイズにする</td>
        <td>表示</td>
      </tr>
      <tr>
        <td>
          <img src="img/067.png" alt="067.png" id="emb-067.png-1" title="067.png" class="embed-image" width="25" height="25" />
        </td>
        <td>表示形式を変更する</td>
        <td>表示</td>
      </tr>
      <tr>
        <td>
          <img src="img/068.png" alt="068.png" id="emb-068.png-1" title="068.png" class="embed-image" width="25" height="25" />
        </td>
        <td>スナップショットをクリップボードにコピーする（未実装）</td>
        <td>その他</td>
      </tr>
      <tr>
        <td>
          <img src="img/069.png" alt="069.png" id="emb-069.png-1" title="069.png" class="embed-image" width="16" height="16" />
        </td>
        <td>係り受け構造をGraphVizのDOT形式でセーブする</td>
        <td>その他</td>
      </tr>
      <tr>
        <td>
          <img src="img/070.png" alt="070.png" id="emb-070.png-1" title="070.png" class="embed-image" width="25" height="25" />
        </td>
        <td>編集内容をDBにセーブする</td>
        <td>編集</td>
      </tr>
      <tr>
        <td>
          <img src="img/076.png" alt="076.png" id="emb-076.png-1" title="076.png" class="embed-image" width="123" height="24" />
        </td>
        <td>編集対象の文の属するコーパス名</td>
        <td>編集</td>
      </tr>
      <tr>
        <td>
          <img src="img/071.png" alt="071.png" id="emb-071.png-1" title="071.png" class="embed-image" width="16" height="16" />
        </td>
        <td>コーパス内のひとつ前の文に移動する</td>
        <td>編集</td>
      </tr>
      <tr>
        <td>
          <img src="img/072.png" alt="072.png" id="emb-072.png-1" title="072.png" class="embed-image" width="25" height="25" />
        </td>
        <td>KWIC結果リスト内のひとつ前の文に移動する</td>
        <td>編集</td>
      </tr>
      <tr>
        <td>
          <img src="img/077.png" alt="077.png" id="emb-077.png-1" title="077.png" class="embed-image" width="47" height="26" />
        </td>
        <td>編集対象の文ID（クリックすると変更できます）</td>
        <td>編集</td>
      </tr>
      <tr>
        <td>
          <img src="img/073.png" alt="073.png" id="emb-073.png-1" title="073.png" class="embed-image" width="25" height="25" />
        </td>
        <td>KWIC結果リスト内のひとつ後の文に移動する</td>
        <td>編集</td>
      </tr>
      <tr>
        <td>
          <img src="img/074.png" alt="074.png" id="emb-074.png-1" title="074.png" class="embed-image" width="16" height="16" />
        </td>
        <td>コーパス内のひとつ後の文に移動する</td>
        <td>編集</td>
      </tr>
      <tr>
        <td>
          <img src="img/075.png" alt="075.png" id="emb-075.png-1" title="075.png" class="embed-image" width="16" height="16" />
        </td>
        <td>編集を終了し、DBのロックを解除する</td>
        <td>編集</td>
      </tr>
    </tbody>
  </table>
  <p>表示形式として、Diagonal表示、Horizontal表示、およびMorphemes表示の3種類が用意されています。
上の図はHorizontal表示ですが、Diagonal表示を選択すると下図のような表示に切り替わります。
表示系のコマンドは編集内容には影響しませんので、随時見やすい形式に調整して編集を行います。
（Morphemes表示については<a href="形態素を編集する.html">形態素を編集する</a>で説明します。
</p>
  <p>
    <img src="img/079.png" alt="079.png" id="emb-079.png-1" title="079.png" class="embed-image" width="262" height="218" />
</p>
  <p>また、パネルが狭い場合は、パネルのタイトルバーをダブルクリックすることでFloating状態にして
独立にパネルのサイズを変更することもできます。（再度ダブルクリックすれば元のDocking状態に戻ります）
</p>
  <p>では次に、具体的に文節・係り受けを編集する基本的な方法を説明します。
</p>
  <h3 id="h3-.281.29.20.E6.96.87.E7.AF.80.E3.82.92.E5.88.87.E6.96.AD.E3.81.99.E3.82.8B">(1) 文節を切断する</h3>
  <p>上の例で、「たてて」と「行く」の間で文節を切り離したい場合、語を表すBoxの間に
マウスを持っていくと、カーソルが下図のようにハサミの形に変わります。
この状態で左クリックすると文節を切り離すことができます。
</p>
  <p>切断された右の文節が元の係り受けを継承し、左の文節は自動的に右の文節に係るように変更されます。
</p>
  <p>
    <img src="img/080.png" alt="080.png" id="emb-080.png-1" title="080.png" class="embed-image" width="160" height="72" />
</p>
  <p>※ カーソルの切り替わる範囲が狭すぎると感じる場合は、語Boxの間隔をカスタマイズします（後述）。
</p>
  <h3 id="h3-.282.29.20.E6.96.87.E7.AF.80.E3.82.92.E7.B5.90.E5.90.88.E3.81.99.E3.82.8B">(2) 文節を結合する</h3>
  <p>文節Boxの間にある"+"ボタンを押すとその両側の文節を結合して一つの文節にすることができます。
（この例では結合する文節はありませんので、図は省略します。）
</p>
  <h3 id="h3-.283.29.E4.BF.82.E3.82.8A.E5.85.88.E3.82.92.E5.A4.89.E6.9B.B4.E3.81.99.E3.82.8B">(3)係り先を変更する</h3>
  <p>矢印を持つ係り受けの線をクリックし、変更したい文節Boxの上までドラッグすると、係り先をその文節に
変更することができます。
</p>
  <p>
    <img src="img/081.png" alt="081.png" id="emb-081.png-1" title="081.png" class="embed-image" width="564" height="134" />
</p>
  <p>係り受けが交差する結果となった場合は、互いに交差する線が黄色で表示されます。
</p>
  <h3 id="h3-.284.29.E4.BF.82.E3.82.8A.E5.8F.97.E3.81.91.E3.82.BF.E3.82.B0.E3.82.92.E5.A4.89.E6.9B.B4.E3.81.99.E3.82.8B">(4)係り受けタグを変更する</h3>
  <p>係り受けタグ上でマウスを左クリックすると、メニューがポップアップし、タグを変更することができます。
ここでリストされるタグの種類は現在のところ固定ですが、将来はタグセット定義できるようにする予定です。
</p>
  <p>
    <img src="img/082.png" alt="082.png" id="emb-082.png-1" title="082.png" class="embed-image" width="154" height="174" />
</p>
  <hr />
  <p>以上を組み合わせて係り受けが修正できたら、保存ボタンをクリックしてDBに編集内容を反映します。
</p>
  <p>形態素解析まで済んでいるコーパスに順に係り受けのアノテーションを施していく場合には、
「コーパス内の次の文へ移動する」コマンドにより順次編集を進めていくような使い方になると思われます。
</p>
  <p>また、係り受けを自動解析したコーパスに対して手動で修正を施す場合は、KWIC検索によって似たような
係り受け構造を持つ部分をリストして、「KWIC内の次の文へ移動する」コマンドによりまとめて修正を
行うことが考えられます。（このような場合のために、修正内容をマクロ化してバッチ処理できるように
する機能を検討中です。）
</p>
  <hr />
  <h3 id="h3-.E8.A1.A8.E7.A4.BA.E3.81.AE.E3.82.AB.E3.82.B9.E3.82.BF.E3.83.9E.E3.82.A4.E3.82.BA">表示のカスタマイズ</h3>
  <p>Dependencyパネル上の、何もヒットしない場所で右クリックを行うと、下図のようなダイアログが表示されます。
このダイアログを通じてさまざまな表示上のマージン値や係り受けの矢印形状などを変更することができます。
</p>
  <p>
    <img src="img/083.png" alt="083.png" id="emb-083.png-1" title="083.png" class="embed-image" width="368" height="319" />
</p>
</div>
        <hr>
        <div id="topic_footer">
          <div id="topic_footer_content">Copyright &copy; 2022 by Sowa Research Co., Ltd.. All Rights Reserved.</div>
        </div>
      </article>

      <footer></footer>

    </div>
  
    <script src="vendors/jquery-3.5.1/jquery.min.js"></script>
    <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
    <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
    <script src="vendors/jstree-3.3.10/jstree.min.js"></script>

    <script>
      $(function() {
        $('#toc').jstree({
          'core' : {
            'data' : {
              'url' : 'toc.html',
              'data' : function (node) { return { 'id' : node.id }; }
            }
          }
        });
      });
    </script>
  </body>
</html>
