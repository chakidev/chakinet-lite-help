<!DOCTYPE html>
<html lang="ja">

  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="favicon.ico"/>
    <title>KWIC検索を行う：係り受け検索（DependencySearch）</title>
    <meta name="description" content="" />
    <meta name="keywords" content="">

      <!-- Bootstrap core CSS -->
      <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

      <!-- JsTree styles -->
      <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

      <!-- Hnd styles -->
      <link href="css/layout.min.css" rel="stylesheet" />
      <link href="css/effects.min.css" rel="stylesheet" />
      <link href="css/theme-light-blue.min.css" rel="stylesheet" />
      <link href="css/print.min.css" rel="stylesheet" media="print" />
      <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>
      <style type="text/css">.navigation #inline-toc { width: auto !important}</style>

      <!-- Content style -->
      <link href="css/hnd.content.css" rel="stylesheet" />
      <link rel='stylesheet' type='text/css' href='css/chaki.css'>
</head>

<body class="md-nav-expanded">
  <header class="headroom">
    ChaKi.NET Lite ヘルプ
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close">
        <button class="hnd-toggle btn btn-default">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      <li role="presentation" class="tab active">
        <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
          <i class="glyphicon glyphicon-list"></i>
          Contents
        </a>
      </li>
    </ul>

    <div class="tab-content">
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"></div>
      </div>
    </div>
  </nav>

  <div id="main">
    <article>
<div class="wiki-content">
  <p>語単位の検索をさらに一歩進めて、文節と係り受けの構造を検索条件に含めたのが
DependencySearchになります。
</p>
  <ul>
    <li>文節・係り受けタグを含まないコーパスでDependencySearchを行うことはできません。
</li>
    <li>文境界を超える条件は作成できません。
</li>
    <li>係り受け構造は、内部的にはより一般的なSegmentタグとLinkタグによるアノテーションの
一種として表現されており、DependencySearchをアノテーションをキーとする
検索の特殊な例と考えることもできます。しかしながら、DependencySearchの実装は
文節・係り受けに特化することにより高速化が図られており、一般的なアノテーション検索
（追加予定）とは一線を画すものとなっています。
</li>
  </ul>
  <p>DepdencnySearchを行うには、まずSearch Conditionsパネルにおいて、
"Dependency"タブを選択し、次の条件入力画面に移ります。
</p>
  <p>
    <img src="img/048.png" alt="048.png" id="emb-048.png-1" title="048.png" class="embed-image" width="652" height="203" />
</p>
  <p>TagSearchの語条件Boxを基本要素としていますが、その外側に文節を表す色付きの
文節条件Boxがあります。
</p>
  <h4 id="h4-.E6.96.87.E7.AF.80.E6.9D.A1.E4.BB.B6Box.E3.81.AB.E6.9D.A1.E4.BB.B6.E3.82.92.E5.85.A5.E5.8A.9B.E3.81.99.E3.82.8B">文節条件Boxに条件を入力する</h4>
  <p>語条件Boxの各カラムへの入力方法はTagSearchと同様ですので、ここでは繰り返しません。
</p>
  <p>TagSearchにあった相対位置を示すエディットボックスは存在していません。
Box間の位置に関する条件は、Box間にある特殊なボタンで指定します。
このボタンは、TagSearchの「+」ボタンと同じくBoxを追加する用途に加え、ボタン左右の
Box間の位置条件を指定する機能を持ちます。ボタンを押すとポップアップメニューが表示
され、動作を選ぶことができ、動作の副作用としてボタンに記号が表示されます。このボタン上に
表示されている記号が相対位置条件となります。記号の意味を下表に示します。
</p>
  <table class="wikitable">
    <tbody>
      <tr>
        <td>記号</td>
        <td>メニューから選択したときの動作</td>
        <td>ボタンに表示されている時の意味</td>
        <td>摘要</td>
      </tr>
      <tr>
        <td> (なし) </td>
        <td>ボタンの記号をリセットする</td>
        <td>左右のBox間には位置関係制約がない</td>
        <td></td>
      </tr>
      <tr>
        <td>+</td>
        <td>Boxをボタンの位置に追加する</td>
        <td>---</td>
        <td></td>
      </tr>
      <tr>
        <td>&lt;</td>
        <td>ボタンの表示を"&lt;"にする</td>
        <td>左右のBoxの表す語は文節内でこの順に現れる</td>
        <td>左右端のボタンで選択した場合はBoxが追加される</td>
      </tr>
      <tr>
        <td>-</td>
        <td>ボタンの表示を"-"にする</td>
        <td>左右のBoxの表す語は文節内でこの順に連接して現れる</td>
        <td>左右端のボタンで選択した場合はBoxが追加される</td>
      </tr>
      <tr>
        <td>^</td>
        <td>ボタンの表示を"^"にする</td>
        <td>右のBoxの表す語は文節の先頭に現れる</td>
        <td>右端のボタンを押したときのみメニューに含まれる</td>
      </tr>
      <tr>
        <td>$</td>
        <td>ボタンの表示を"$"にする</td>
        <td>左のBoxの表す語は文節の末尾に現れる</td>
        <td>左端のボタンを押したときのみメニューに含まれる</td>
      </tr>
    </tbody>
  </table>
  <p>文節条件の例を次に示します。この条件は、《「動詞-自立」を先頭に持ち、すぐ次の語が「助動詞」であるような文節》を表します。
</p>
  <p>
    <img src="img/049.png" alt="049.png" id="emb-049.png-1" title="049.png" class="embed-image" width="323" height="155" />
</p>
  <p>この条件を作成する手順を次に示します。
</p>
  <ol>
    <li>第1の語条件Box（初期状態で表示されているもの）に「動詞-自立」を指定。
</li>
    <li>第1の語条件Boxの左のボタンを押し、メニューから「<sup>」を選択。
</sup></li>
    <li>第1の語条件Boxの右のボタンを押し、メニューから「-」を選択。
</li>
    <li>第2の語条件Boxが現れるので、「助動詞」を指定。
</li>
  </ol>
  <h4 id="h4-.E6.96.87.E7.AF.80.E6.9D.A1.E4.BB.B6Box.E3.82.92.E8.BF.BD.E5.8A.A0.E3.81.99.E3.82.8B">文節条件Boxを追加する</h4>
  <p>ここまでは、単一の文節条件の作成方法でしたが、次に文節条件Boxを追加する方法を説明します。
文節条件Boxの左右にある（外側の）ボタンを使用します。文節条件内の（内側の）ボタンの場合と
似ていますが、対象が文節になること、位置は文に対する条件となることが異なります。
</p>
  <table class="wikitable">
    <tbody>
      <tr>
        <td>記号</td>
        <td>メニューから選択したときの動作</td>
        <td>ボタンに表示されている時の意味</td>
        <td>摘要</td>
      </tr>
      <tr>
        <td> (なし) </td>
        <td>ボタンの記号をリセットする</td>
        <td>左右のBox間には位置関係制約がない</td>
        <td></td>
      </tr>
      <tr>
        <td>+</td>
        <td>Boxをボタンの位置に追加する</td>
        <td>---</td>
        <td></td>
      </tr>
      <tr>
        <td>&lt;</td>
        <td>ボタンの表示を"&lt;"にする</td>
        <td>左右のBoxの表す文節は文内でこの順に現れる</td>
        <td>左右端のボタンで選択した場合はBoxが追加される</td>
      </tr>
      <tr>
        <td>-</td>
        <td>ボタンの表示を"-"にする</td>
        <td>左右のBoxの表す文節は文内でこの順に連接して現れる</td>
        <td>左右端のボタンで選択した場合はBoxが追加される</td>
      </tr>
      <tr>
        <td>^</td>
        <td>ボタンの表示を"^"にする</td>
        <td>右のBoxの表す文節は文の先頭に現れる</td>
        <td>右端のボタンを押したときのみメニューに含まれる</td>
      </tr>
      <tr>
        <td>$</td>
        <td>ボタンの表示を"$"にする</td>
        <td>左のBoxの表す文節は文の末尾に現れる</td>
        <td>左端のボタンを押したときのみメニューに含まれる</td>
      </tr>
    </tbody>
  </table>
  <p>例として、先に作成した文節条件Boxの左にもう一つ文節条件Boxを追加したものを下に示します。
</p>
  <p>
    <img src="img/050.png" alt="050.png" id="emb-050.png-1" title="050.png" class="embed-image" width="587" height="166" />
</p>
  <h4 id="h4-.E4.BF.82.E3.82.8A.E5.8F.97.E3.81.91.E6.9D.A1.E4.BB.B6.E3.82.92.E8.BF.BD.E5.8A.A0.E3.81.99.E3.82.8B">係り受け条件を追加する</h4>
  <p>文節条件を複数作成した場合、それらの文節間に係り受け条件を付けることができます。
係り受け条件は矢印（方向付きLink）であり、文節条件Boxの色の付いている部分をクリックし、
そのまま別の文節条件Boxまでマウスドラッグを行うことで作成できます。
</p>
  <p>
    <img src="img/051.png" alt="051.png" id="emb-051.png-1" title="051.png" class="embed-image" width="584" height="187" />
</p>
  <p>矢印の中ほどにある文字は、係り受けの種類を表します。文字の上でマウスをクリックするとメニューから
選択できるようになっています。現在はCabochaの出力に合わせ、"D", "A", "O", "P", "I"が指定可能ですが
将来はタグセットに合わせて可変となるようにする予定です。"*"は任意の種類にマッチすることを示します。
</p>
  <p>
    <img src="img/052.png" alt="052.png" id="emb-052.png-1" title="052.png" class="embed-image" width="586" height="192" />
</p>
  <ul>
    <li>矢印を消すには、矢印上でマウスをクリックしてメニューから"Delete"を選択します。
</li>
  </ul>
  <h4 id="h4-KWIC.E6.A4.9C.E7.B4.A2.E3.81.AE.E5.AE.9F.E8.A1.8C">KWIC検索の実行</h4>
  <p>以上で条件が完成しましたので、検索を開始します。KWIC結果は次のようになります。
</p>
  <p>
    <a href="img/053.png">
      <img src="img/053.png" alt="053.png" id="emb-053.png-1" title="053.png" class="embed-image" width="479" height="227" />
    </a>
</p>
  <h4 id="h4-Segment.2C.20Link.E3.81.AB.E5.AF.BE.E3.81.99.E3.82.8B.E6.A4.9C.E7.B4.A2">Segment, Linkに対する検索</h4>
  <p>本節では文節と文節間係り受けに限定してDependencySearchの使い方を述べました。
文節は、より一般的な概念である<strong>Segment</strong>（Start位置とEnd位置によって指定される任意の文字列区間）の一例であり、
また係り受けは同様に<strong>Link</strong>（2つのSegment間の関連）の一例にすぎません。
</p>
  <p>DependencySearch機能は、より一般的な「Segment, Linkのパターン検索」として使用することが可能です。
この使用法については、応用編の<a href="DependencySearchでSegment/Linkのパターンを検索する.html">DependencySearchでSegment/Linkのパターンを検索する</a>を参照ください。
</p>
</div>
        <hr>
        <div id="topic_footer">
          <div id="topic_footer_content">Copyright &copy; 2022 by Sowa Research Co., Ltd.. All Rights Reserved.</div>
        </div>
      </article>

      <footer></footer>

    </div>
  
    <script src="vendors/jquery-3.5.1/jquery.min.js"></script>
    <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
    <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
    <script src="vendors/jstree-3.3.10/jstree.min.js"></script>

    <script>
      $(function() {
        $('#toc').jstree({
          'core' : {
            'data' : {
              'url' : 'toc.html',
              'data' : function (node) { return { 'id' : node.id }; }
            }
          }
        })
        .on("click", "a", function() {

        document.location.href = this;
        });;
      });
    </script>
  </body>
</html>
