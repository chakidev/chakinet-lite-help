<!DOCTYPE html>
<html lang="ja">

  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="favicon.ico"/>
    <title>KWIC検索を行う：文字列検索（StringSearch）</title>
    <meta name="description" content="" />
    <meta name="keywords" content="">

      <!-- Bootstrap core CSS -->
      <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

      <!-- JsTree styles -->
      <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

      <!-- Hnd styles -->
      <link href="css/layout.min.css" rel="stylesheet" />
      <link href="css/effects.min.css" rel="stylesheet" />
      <link href="css/theme-light-blue.min.css" rel="stylesheet" />
      <link href="css/print.min.css" rel="stylesheet" media="print" />
      <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>
      <style type="text/css">.navigation #inline-toc { width: auto !important}</style>

      <!-- Content style -->
      <link href="css/hnd.content.css" rel="stylesheet" />
      <link rel='stylesheet' type='text/css' href='css/chaki.css'>
</head>

<body class="md-nav-expanded">
  <header class="headroom">
    ChaKi.NET Lite ヘルプ
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close">
        <button class="hnd-toggle btn btn-default">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      <li role="presentation" class="tab active">
        <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
          <i class="glyphicon glyphicon-list"></i>
          Contents
        </a>
      </li>
    </ul>

    <div class="tab-content">
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"></div>
      </div>
    </div>
  </nav>

  <div id="main">
    <article>
<div class="wiki-content">
  <p>ChaKi.NETは、複数のKWIC検索方法を提供しており、StringSearchはその中で最も
手軽にKWICを作成することのできる検索法になります。
</p>
  <p>コーパスを選択し終えた状態(<a href="インポートしたコーパスを操作対象として選択する.html">wiki:インポートしたコーパスを操作対象として選択する</a>)で、SearchConditions
パネルのタブから"<strong>String</strong>"を選びます。
</p>
  <p>
    <img src="img/036.png" alt="036.png" id="emb-036.png-1" title="036.png" class="embed-image" width="564" height="169" />
</p>
  <p>図に示すタブ内のエディットボックス<strong>Search Expression</strong>に、検索したい表現を入力します。
入力文字列においては単語区切りを意識する必要はありません。単純にドキュメントそのもの
（表層文字列）の一部とマッチするような文字列を入力すれば、その生起箇所を中心として
文<span id="_fn_ref-1" class="footnote-ref"><a href="#_fn_note-1">*1</a></span>単位のKWICを作成します。
</p>
  <ul>
    <li>Optionsの"<strong>Case Sensitive</strong>"は、大文字・小文字を区別するか否かを指定するスイッチです。英語等の
大文字・小文字を持つ言語においてのみ意味を持ちます。デフォルトはONです。
</li>
  </ul>
  <ul>
    <li>同"<strong>Enable Regular Expression</strong>"は、入力文字列を正規表現として解釈し、文単位で正規表現マッチング
を行うようにするためのスイッチで、デフォルトではOFFです。
正規表現は.NET Framework正規表現に基づいており、Perlやawkで使用される一般的な文法を
使うことができます。（Perl 5の正規表現とほぼ互換性があると考えられます。）
参考リンク：<a href="http://msdn.microsoft.com/ja-jp/library/hs600312(VS.80).aspx" class="external" rel="nofollow">http://msdn.microsoft.com/ja-jp/library/hs600312(VS.80).aspx</a>
</li>
  </ul>
  <p>条件を入力し終えたら、Commandタブに移り、"<strong>Search</strong>"ボタンを押して検索を開始します。
</p>
  <p>
    <img src="img/037.png" alt="037.png" id="emb-037.png-1" title="037.png" class="embed-image" width="446" height="171" />
</p>
  <p>CommandタブのGridに対象コーパスの行が現れ、その行にコーパスの語の総数（Nc, Nd）が表示された後、
Nhitカラムにこの検索に対するヒット数が表示されます。検索結果が取得されるに従い、さらに右の
カラムNretが順次更新されるとともにKWICビューも更新されていきます。Nhitと同数の結果が
取得できた時点で検索終了となります。結果取得の途中で"Abort"ボタンを押して強制終了することも可能です。
下に正常に行われた検索の一例を示します。
</p>
  <p>
    <a href="img/038.png">
      <img src="img/038.png" alt="038.png" id="emb-038.png-1" title="038.png" class="embed-image" width="480" height="203" />
    </a>
</p>
  <ul>
    <li>ChaKi.NETの検索ではどの検索法を使用する場合も、このSearchConditionsタブにおいて
検索条件を作成し、"Search"ボタンによって実行する流れとなります。
</li>
  </ul>
  <ul>
    <li>ChaKi.NETは、タグベースの検索ツールであり、語境界を意識しないこのような検索に
最適化されているとはいえません。Documentが巨大である場合、そのテキストすべてを
メモリに読み込んで検索を行うことになり、場合によっては検索に失敗することがあります。
そのような場合はDocumentの分割を再考慮してください。
また、検索処理本体をリモート化してサーバ側で高速検索を行い、結果だけを表示することも
検討中で、サーバ側を一定の規約に基づくWebアプリケーションとして作成しておけば
既にこの方法も利用可能となっています。(規約→要作成)
</li>
  </ul>
  <h3 id="h3-.E8.AA.9E.E5.B1.9E.E6.80.A7.E5.86.8D.E5.8F.96.E5.BE.97.E6.A9.9F.E8.83.BD">語属性再取得機能</h3>
  <p>StringSearchは、語境界が事前にはっきりとわからない場合や、同じ文字列に対する語境界が一意に
割り振られているとは限らないような場合に、まずおおざっぱな検索を行うという一種「あいまい検索」のような
用途で使用することができます。例えば前の「三四郎」の例では、形態素解析において正しく「三四郎」
と解析されている場合と、「三/四/郎」と３語に分けられている場合があったとして、
StringSearch以外の語ベースの検索だけでは後者を発見することは困難を伴います。
このような場合に、語境界を意識しない検索であるStringSearchと、語属性を後から取得する機能である
語属性再取得機能とを組み合わせると効率的な検索が可能です。
</p>
  <p>StringSearchで結果取得した後、メニューの"View"-"<strong>View Attributes</strong>"
またはツールバーの<img src="img/039.png" alt="039.png" id="emb-039.png-1" title="039.png" class="embed-image" width="27" height="25" />を押します。次のような確認メッセージが出ますので、
</p>
  <p>
    <img src="img/040.png" alt="040.png" id="emb-040.png-1" title="040.png" class="embed-image" width="478" height="190" />
</p>
  <p>"Y"を押すとTagSearchレベルの語構造表示に切り替えることができます。
これを見ると、前述の誤解析部分が含まれていることを容易に知ることができます。
</p>
  <p>
    <img src="img/041.png" alt="041.png" id="emb-041.png-1" title="041.png" class="embed-image" width="589" height="227" />
</p>
  <p>なお、"<strong>View Attributes</strong>"コマンドは本来KWICビューの「１行表示」と
属性を含む「２行表示」とを切り替えるものであり、ここでは、
１行表示を属性を含む２行表示へ切り替えようとしたところ、
語属性がKWICデータに含まれていないため語属性再取得機能が
内部的に動作した、というように理解していただければと思います。
</p>
  <hr />
  <ol id="footnote" class="footnote">
    <li id="_fn_note-1">
      <a class="footnote-revref footnote-counter" href="#_fn_ref-1">*1</a>ここでの「文」は、Mecab/ChaSenベースのコーパスの場合EOSで区切られた部分を指します。Plain Textベースのコーパスの場合についてはまだインポーターの仕様が固まっていませんが、いずれにせよ<strong>インポートの結果Documentに関連付けられたText内で"\n"によって区切られた文字列</strong>を指すことになります。</li>
  </ol>
</div>
        <hr>
        <div id="topic_footer">
          <div id="topic_footer_content">Copyright &copy; 2022 by Sowa Research Co., Ltd.. All Rights Reserved.</div>
        </div>
      </article>

      <footer></footer>

    </div>
  
    <script src="vendors/jquery-3.5.1/jquery.min.js"></script>
    <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
    <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
    <script src="vendors/jstree-3.3.10/jstree.min.js"></script>

    <script>
      $(function() {
        $('#toc').jstree({
          'core' : {
            'data' : {
              'url' : 'toc.html',
              'data' : function (node) { return { 'id' : node.id }; }
            }
          }
        });
      });
    </script>
  </body>
</html>
